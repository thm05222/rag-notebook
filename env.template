# ============================================
# RAG Notebook 環境變數配置模板
# ============================================
# 複製此文件為 .env 或 docker.env 並填入實際的值
# cp env.template .env

# ============================================
# 必需的配置
# ============================================
# OpenAI API Key（主要 LLM provider）
OPENAI_API_KEY=sk-proj-your-openai-key-here

# ============================================
# 身份驗證配置
# ============================================
# 方式一：簡單密碼驗證（舊版，不推薦用於生產環境）
# OPEN_NOTEBOOK_PASSWORD=your-secure-password

# 方式二：JWT + Cloudflare Turnstile 驗證（推薦）
# 生成 JWT 密鑰：openssl rand -hex 32
# JWT_SECRET_KEY=your-32-byte-hex-secret-key
# JWT_ALGORITHM=HS256
# ACCESS_TOKEN_EXPIRE_MINUTES=1440

# 管理員帳號設定
# ADMIN_USERNAME=admin
# 密碼 Hash（使用 bcrypt 生成，可透過 /api/auth/hash-password 端點生成）
# 或者使用明文密碼（不推薦）：ADMIN_PASSWORD=your-password
# ADMIN_PASSWORD_HASH=$2b$12$your-bcrypt-hash-here

# Cloudflare Turnstile 機器人驗證（可選但推薦）
# 前往 https://dash.cloudflare.com/turnstile 申請
# TURNSTILE_SECRET_KEY=your-cloudflare-turnstile-secret-key

# ============================================
# 可選的 LLM Providers
# 根據您要使用的 provider 取消註釋並填入對應的 API key
# ============================================

# Anthropic Claude
# ANTHROPIC_API_KEY=sk-ant-your-key-here

# Google Gemini（二選一，GEMINI_API_KEY 優先）
# GOOGLE_API_KEY=your-google-api-key
# GEMINI_API_KEY=your-gemini-api-key

# Google Vertex AI（需要 GCP 服務賬戶）
# VERTEX_PROJECT=your-gcp-project-id
# VERTEX_LOCATION=us-central1
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Ollama（本地模型，不需要 API key，只需要設置 URL）
# OLLAMA_API_BASE=http://localhost:11434

# Groq
# GROQ_API_KEY=gsk_your-key-here

# Mistral AI
# MISTRAL_API_KEY=your-key-here

# DeepSeek
# DEEPSEEK_API_KEY=sk-your-key-here

# Azure OpenAI（需要所有四個變數）
# AZURE_OPENAI_API_KEY=your-azure-api-key
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name
# AZURE_OPENAI_API_VERSION=2024-02-15-preview

# OpenAI Compatible API（自定義兼容 OpenAI 的 API）
# OPENAI_COMPATIBLE_BASE_URL=https://your-api-endpoint.com/v1
# 或分別配置：
# OPENAI_COMPATIBLE_BASE_URL_LLM=https://your-llm-api.com/v1
# OPENAI_COMPATIBLE_BASE_URL_EMBEDDING=https://your-embedding-api.com/v1

# OpenRouter
# OPENROUTER_API_KEY=sk-or-your-key-here

# X.AI (Grok)
# XAI_API_KEY=xai-your-key-here

# ElevenLabs（語音合成，可選）
# ELEVENLABS_API_KEY=your-key-here

# Voyage AI（嵌入模型，可選）
# VOYAGE_API_KEY=your-key-here

# ============================================
# 數據庫配置
# ============================================
SURREAL_URL=ws://surrealdb:8000/rpc
SURREAL_USER=root
SURREAL_PASSWORD=root
SURREAL_NAMESPACE=open_notebook
SURREAL_DATABASE=production

# ============================================
# API URL 配置
# ============================================
# 本地開發：http://localhost:5055
# 生產環境：https://your-domain.com/api
API_URL=http://localhost:5055

# ============================================
# CORS 配置
# ============================================
# 允許的來源列表（逗號分隔）
# 開發環境：留空或設置為 * 允許所有來源（默認行為）
# 生產環境：明確指定允許的來源，例如：
# CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
#
# 格式要求：
# - 必須包含協議（http:// 或 https://）
# - 可以包含端口號（例如：http://localhost:3000）
# - 不應該包含路徑（例如：https://example.com/api 應該是 https://example.com）
#
# 安全提示：
# - 生產環境不應使用 "*"（允許所有來源），這存在安全風險
# - 如果生產環境未設置此變數，API 將不接受任何跨域請求（最安全）
# CORS_ALLOWED_ORIGINS=

# ============================================
# 文件上傳配置
# ============================================
# 最大上傳文件大小（字節），默認 100MB
MAX_UPLOAD_SIZE=104857600

# ============================================
# API 客戶端超時配置
# ============================================
# API 請求超時時間（秒），默認 300 秒（5 分鐘）
API_CLIENT_TIMEOUT=300

# ============================================
# Qdrant 配置（如果使用外部 Qdrant）
# ============================================
# QDRANT_HOST=qdrant
# QDRANT_PORT=6333
# QDRANT_API_KEY=your-qdrant-api-key

# ============================================
# MCP 配置（可選）
# ============================================
# MCP_CONFIG_PATH=./mcp_config.json

# ============================================
# Tailscale Serve 配置（可選）
# ============================================
TAILSCALE_ENABLE_SERVE=true
TAILSCALE_FRONTEND_PORT=8188
TAILSCALE_API_PORT=5055
TAILSCALE_SERVE_PATH=/
TAILSCALE_EXPOSE_API=false

